(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{331:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(l," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,c,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r=0;r<e.length;r++){var o=[].concat(e[r]);n&&(o[2]?o[2]="".concat(n," and ").concat(o[2]):o[2]=n),t.push(o)}},t}},332:function(e,t,n){"use strict";
/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */var r={};function o(e){e.forEach((function(e){if(--r[e]<=0){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}}))}e.exports=function(e,t){for(var n,i=void 0===t?{}:t,a=i.replace,c=void 0!==a&&a,l=i.prepend,s=void 0!==l&&l,u=i.prefix,f=void 0===u?"s":u,d=[],p=0;p<e.length;p++){var m=e[p],v=m[0],y=m[1],b=m[2],g=m[3],h=""+f+v+"-"+p;if(d.push(h),!r[h]||c){r[h]=1;var w=document.getElementById(h),x=!1;w||(x=!0,(w=document.createElement("style")).setAttribute("type","text/css"),w.id=h,b&&w.setAttribute("media",b));var O=y;g&&"function"==typeof btoa&&(O+="\n/*# sourceMappingURL=data:application/json;base64,"+(n=JSON.stringify(g),btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)}))))+"*/",O+="\n/*# sourceURL="+g.file+"?"+h+"*/"),"textContent"in w?w.textContent=O:w.styleSheet.cssText=O,x&&(s?document.head.insertBefore(w,document.head.childNodes[0]):document.head.appendChild(w))}else r[h]++}return o.bind(null,d)}},333:function(e,t,n){"use strict";
/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */var r=n(28),o=n(92),i=function(){return this&&"object"==typeof this.window}();e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=r.useContext(o).insertCss;if(!a)throw new Error('Please provide "insertCss" function by StyleContext.Provider');var c=function(){var e=a.apply(void 0,t);return function(){setTimeout(e,0)}};i?r.useEffect(c,[]):c()}},334:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,o=n(333),i=n.n(o),a=(n(28),n(130),n(335)),c=n.n(a),l=n(337),s=n.n(l);function u(e){var t=e.children;return i()(s.a,c.a),function(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=o;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:"container"},void 0,t)}},335:function(e,t,n){var r=n(336),o=n(332),i="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},336:function(e,t,n){(t=n(331)(!1)).push([e.i,"html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{-webkit-box-sizing:content-box;box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:rgba(0,0,0,0)}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}",""]),e.exports=t},337:function(e,t,n){var r=n(338),o=n(332),i="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},338:function(e,t,n){(t=n(331)(!1)).push([e.i,':root{--font-family-base:"Segoe UI","HelveticaNeue-Light",sans-serif;--max-content-width:1000px;--screen-xs-min:480px;--screen-sm-min:768px;--screen-md-min:992px;--screen-lg-min:1200px}html{color:#222;font-weight:100;font-size:1em;font-family:Segoe UI,HelveticaNeue-Light,sans-serif;font-family:var(--font-family-base);line-height:1.375}body{margin:0}a{color:#0074c2}::-moz-selection{background:#b3d4fc;text-shadow:none}::selection{background:#b3d4fc;text-shadow:none}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}audio,canvas,iframe,img,svg,video{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}.browserupgrade{margin:.2em 0;background:#ccc;color:#000;padding:.2em 0}@media print{*,:after,:before{background:rgba(0,0,0,0)!important;color:#000!important;-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}abbr[title]:after{content:" (" attr(title) ")"}a[href^="#"]:after,a[href^="javascript:"]:after{content:""}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}}',""]),e.exports=t},339:function(e,t,n){"use strict";(function(e){var r=n(341),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var s,u={client_id:e.env.STRAVA_CLIENT_ID||"41795",client_secret:e.env.STRAVA_CLIENT_SECRET||"2d6aef45b789e57ef9aec970e43ce46f62dcb63f",refresh_token:e.env.STRAVA_REFRESH_TOKEN||"eb02f30a2bf70b8e640e060d320a32d30254edef"},f="https://www.strava.com/oauth/token",d=0,p=null;function m(){var e;return e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===p){e.next=2;break}return e.abrupt("return",p);case 2:if(!(Math.floor(Date.now()/1e3)>d)){e.next=5;break}return p=o()(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a({},u,{grant_type:"refresh_token"}))}).then((function(e){if(!e.ok)throw new Error("".concat(e.status,": ").concat(e.statusText));return e.json()})).then((function(e){return d=e.expires_at,s=e.access_token})).finally((function(){p=null})),e.abrupt("return",p);case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})),(m=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)}))}).apply(this,arguments)}t.a=function(){return m.apply(this,arguments)}}).call(this,n(340))},340:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,s=[],u=!1,f=-1;function d(){u&&l&&(u=!1,l.length?s=l.concat(s):f=-1,s.length&&p())}function p(){if(!u){var e=c(d);u=!0;for(var t=s.length;t;){for(l=s,s=[];++f<t;)l&&l[f].run();f=-1,t=s.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||u||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},341:function(e,t,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,t.default=r.fetch.bind(r),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},344:function(e,t,n){"use strict";n.r(t);var r=n(28),o=n(334),i=n(339);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return Object.keys(e).reduce((function(t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,c({},n.split("_").map((function(e,t){return 0===t?e:e.slice(0,1).toUpperCase()+e.slice(1)})).join(""),e[n]))}),{})}function s(e,t){return Object.keys(t).reduce((function(e,n,r){return"".concat(e).concat(0===r?"?":"&").concat(n,"=").concat(t[n])}),e)}function u(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var f="query Segments(\n  $startLatlong: [Float]!,\n  $endLatlong: [Float]!,\n  $activityType: String,\n  $minCat: Int,\n  $maxCat: Int\n) {\n  segments(\n    startLatlong: $startLatlong,\n    endLatlong: $endLatlong,\n    activityType: $activityType,\n    minCat: $minCat,\n    maxCat: $maxCat\n  ) {\n    id\n    name\n    distance\n    avgGrade\n    elevDifference\n    climbCategoryDesc\n  }\n}";function d(){var e;return e=regeneratorRuntime.mark((function e(t,n){var r,o,a,c,u,d,p,m,v,y,b,g,h,w,x,O=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=O.length>2&&void 0!==O[2]?O[2]:{},void 0===(o=r.withGraphQL)||!o){e.next=12;break}return e.next=4,t("/graphql",{body:JSON.stringify({query:f,variables:n})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(c=e.sent,(u=c.data)&&u.segments){e.next=11;break}throw new Error("Failed to load segments.");case 11:return e.abrupt("return",u.segments);case 12:return d=n.startLatlong,p=n.endLatlong,m=n.activityType,v=n.minCat,y=n.maxCat,e.next=15,Object(i.a)();case 15:return b=e.sent,g={bounds:"".concat(d[0],",").concat(d[1],",").concat(p[0],",").concat(p[1])},null!=m&&(g.activity_type=m),v>=0&&v<=5&&(g.min_cat=v),y>=0&&y<=5&&(g.max_cat=y),h=s("https://www.strava.com/api/v3/segments/explore",g),e.next=23,t(h,{headers:{Authorization:"Bearer ".concat(b)}});case 23:if((w=e.sent).ok){e.next=26;break}throw new Error("".concat(w.status,": ").concat(w.statusText));case 26:return e.next=28,w.json();case 28:return x=e.sent,e.abrupt("return",x.segments.map((function(e){return l(e)})));case 30:case"end":return e.stop()}}),e)})),(d=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}).apply(this,arguments)}var p=function(e,t){return d.apply(this,arguments)},m=(n(130),n(127));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h,w,x,O={honshu:{text:"Honshu",value:{startLatlong:[33.4,130.85],endLatlong:[41.55,142.08]}},kanto:{text:"Kanto",value:{startLatlong:[34.8968,138.3825],endLatlong:[37.1622,140.9011]}}},C={any:{text:"Any",value:null},riding:{text:"Riding",value:"riding"},running:{text:"Running",value:"running"}},S={cat5:{text:"HC",value:5},cat4:{text:"1",value:4},cat3:{text:"2",value:3},cat2:{text:"3",value:2},cat1:{text:"4",value:1},cat0:{text:"NC",value:0}},j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"locationKeys",get:function(){return Object.keys(O)}},{key:"locations",get:function(){return y({},O)}},{key:"activityTypeKeys",get:function(){return Object.keys(C)}},{key:"activityTypes",get:function(){return y({},C)}},{key:"climbingCategoryKeys",get:function(){return Object.keys(S)}},{key:"climbingCategories",get:function(){return y({},S)}}],(n=null)&&g(t.prototype,n),r&&g(t,r),e}();function k(e,t,n,r){h||(h="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:h,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.locationKey,n=e.activityTypeKey,r=e.minCatKey,o=e.maxCatKey,i=e.setState,a=e.loading;return k("form",{className:"d-flex flex-row flex-wrap w-100"},void 0,k("div",{className:"form-group ml-4 mb-2"},void 0,k("label",{className:"d-flex flex-row align-items-center",htmlFor:"locationSelect"},void 0,"Location",k("select",{disabled:a,className:"form-control ml-2",id:"locationSelect",value:t,onChange:function(e){return i({locationKey:e.target.value})}},void 0,j.locationKeys.map((function(e){return k("option",{value:e},e,j.locations[e].text)}))))),k("div",{className:"form-group ml-4 mb-2"},void 0,k("label",{className:"d-flex flex-row align-items-center",htmlFor:"activityTypeSelect"},void 0,"Activity",k("select",{disabled:a,className:"form-control ml-2",id:"activityTypeSelect",value:n,onChange:function(e){return i({activityTypeKey:e.target.value})}},void 0,j.activityTypeKeys.map((function(e){return k("option",{value:e},e,j.activityTypes[e].text)}))))),k("div",{className:"form-group d-flex flex-row align-items-center ml-4 mb-2"},void 0,k("label",{className:"d-flex flex-row align-items-center text-nowrap",htmlFor:"minCatSelect"},void 0,"Climbing Category",k("select",{disabled:a,className:"form-control mx-2",id:"minCatSelect",value:r,onChange:function(e){return i({minCatKey:e.target.value,maxCatKey:e.target.value>o?e.target.value:o})}},void 0,j.climbingCategoryKeys.map((function(e){return k("option",{value:e},e,j.climbingCategories[e].text)})))),k("label",{className:"d-flex flex-row align-items-center text-nowrap",htmlFor:"maxCatSelect"},void 0,"ï½ž",k("select",{disabled:a,className:"form-control ml-2",id:"maxCatSelect",value:o,onChange:function(e){return i({maxCatKey:e.target.value,minCatKey:e.target.value<r?e.target.value:r})}},void 0,j.climbingCategoryKeys.map((function(e){return k("option",{value:e},e,j.climbingCategories[e].text)}))))))}function P(e,t,n,r){w||(w="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:w,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){return P("tbody",{},void 0,e.segments.map((function(e){return P("tr",{},e.id,P("td",{},void 0,P("a",{href:"https://www.strava.com/segments/".concat(e.id)},void 0,e.name)),P("td",{className:"text-right"},void 0,e.distance," m"),P("td",{className:"text-right"},void 0,e.avgGrade,"%"),P("td",{className:"text-right"},void 0,e.elevDifference," m"),P("td",{},void 0,e.climbCategoryDesc))})))}function L(e,t,n,r){x||(x="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:x,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K,E=L("thead",{className:"thead-dark"},void 0,L("tr",{},void 0,L("th",{className:"text-center"},void 0,"Name"),L("th",{className:"text-center"},void 0,"Distance"),L("th",{className:"text-center"},void 0,"Avg Grade"),L("th",{className:"text-center"},void 0,"Elev Difference"),L("th",{className:"text-center"},void 0,"Climb Category")));function _(e){var t=e.segments,n=e.loading;return L("table",{className:"table table-striped"},void 0,E,n?null:L(N,{segments:t}))}function A(e,t,n,r){K||(K="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:K,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R,z=A("p",{},void 0,"No segments found"),$=A("div",{className:"spinner-border",role:"status"},void 0,A("span",{className:"sr-only"},void 0,"Loading..."));function D(e){var t=e.noSegments,n=e.loading,r=e.errorMessage;return A("div",{className:"d-flex justify-content-center w-100"},void 0,t?z:null,n?$:null,r?A("p",{className:"text-danger"},void 0,r):null)}function I(e,t,n,r){R||(R="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:R,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}D.defaultProps={errorMessage:null};var U,H=I("h1",{},void 0,"Strava Segments");function q(e){var t=e.initSegments,n=Object(r.useContext)(m.a).context,o=F(Object(r.useState)(t),2),i=o[0],a=o[1],c=F(Object(r.useState)(!1),2),l=c[0],s=c[1],u=F(Object(r.useState)(null),2),f=u[0],d=u[1],v=F(Object(r.useState)(j.locationKeys[0]),2),y=v[0],b=v[1],g=F(Object(r.useState)(j.activityTypeKeys[0]),2),h=g[0],w=g[1],x=F(Object(r.useState)(j.climbingCategoryKeys[j.climbingCategoryKeys.length-1]),2),O=x[0],C=x[1],S=F(Object(r.useState)(j.climbingCategoryKeys[0]),2),k=S[0],P=S[1],N=Object(r.useRef)(!0);return Object(r.useEffect)((function(){N.current?N.current=!1:(s(!0),d(null),p(n.fetch,{startLatlong:j.locations[y].value.startLatlong,endLatlong:j.locations[y].value.endLatlong,activityType:j.activityTypes[h].value,minCat:j.climbingCategories[O].value,maxCat:j.climbingCategories[k].value}).then((function(e){a(e)})).catch((function(){a([]),d("Failed to load segments")})).finally((function(){s(!1)})))}),[y,h,O,k]),I("div",{},void 0,H,I("div",{className:"row"},void 0,I(T,{locationKey:y,activityTypeKey:h,minCatKey:O,maxCatKey:k,setState:function(e){var t=e.locationKey,n=e.activityTypeKey,r=e.minCatKey,o=e.maxCatKey;void 0!==t&&b(t),void 0!==n&&w(n),void 0!==r&&C(r),void 0!==o&&P(o)},loading:l})),I("div",{className:"row"},void 0,I(_,{segments:i,loading:l}),I(D,{noSegments:0===i.length,loading:l,errorMessage:f})))}function J(e,t,n,r){U||(U="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:U,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var B={startLatlong:j.locations.honshu.value.startLatlong,endLatlong:j.locations.honshu.value.endLatlong,activityType:j.activityTypes.any.value,minCat:j.climbingCategories.cat0.value,maxCat:j.climbingCategories.cat5.value};function G(){var e;return e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetch,e.next=3,p(n,B,{withGraphQL:!0});case 3:return r=e.sent,e.abrupt("return",{chunks:["home"],title:"Strava Segments",component:J(o.a,{},void 0,J(q,{initSegments:r}))});case 5:case"end":return e.stop()}}),e)})),(G=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){M(i,r,o,a,c,"next",e)}function c(e){M(i,r,o,a,c,"throw",e)}a(void 0)}))}).apply(this,arguments)}t.default=function(e){return G.apply(this,arguments)}}}]);
//# sourceMappingURL=home.899e406d.chunk.js.map