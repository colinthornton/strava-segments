{"version":3,"sources":["/home/colin/strava-segments/node_modules/css-loader/dist/runtime/api.js","/home/colin/strava-segments/node_modules/isomorphic-style-loader/insertCss.js","/home/colin/strava-segments/node_modules/isomorphic-style-loader/useStyles.js","/home/colin/strava-segments/src/components/Layout/Layout.js","webpack:///./node_modules/normalize.css/normalize.css?5e5f","/home/colin/strava-segments/node_modules/normalize.css/normalize.css","webpack:///./src/components/Layout/Layout.css?bf8d","/home/colin/strava-segments/src/components/Layout/Layout.css","/home/colin/strava-segments/src/data/token.js","/home/colin/strava-segments/node_modules/process/browser.js","/home/colin/strava-segments/node_modules/node-fetch/browser.js","/home/colin/strava-segments/src/data/utils.js","/home/colin/strava-segments/src/routes/home/fetchSegments.js","/home/colin/strava-segments/src/routes/home/SegmentOptions.js","/home/colin/strava-segments/src/routes/home/SegmentOptionsForm.js","/home/colin/strava-segments/src/routes/home/SegmentTableBody.js","/home/colin/strava-segments/src/routes/home/SegmentTable.js","/home/colin/strava-segments/src/routes/home/SegmentMessage.js","/home/colin/strava-segments/src/routes/home/Home.js","/home/colin/strava-segments/src/routes/home/index.js"],"names":["module","exports","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","i","modules","mediaQuery","length","push","inserted","removeCss","ids","forEach","id","elem","document","getElementById","parentNode","removeChild","styles","_temp","str","_ref","_ref$replace","replace","_ref$prepend","prepend","_ref$prefix","prefix","_styles$i","moduleId","css","media","create","createElement","setAttribute","cssText","match","p1","String","fromCharCode","file","textContent","styleSheet","head","insertBefore","childNodes","appendChild","bind","react","StyleContext","isBrowser","window","_len","arguments","Array","_key","insertCss","useContext","Error","runEffect","apply","setTimeout","useEffect","Layout","children","useStyles","s","normalizeCss","className","locals","_getContent","_getCss","_insertCss","options","___CSS_LOADER_API_IMPORT___","accessToken","stravaConfig","client_id","process","env","STRAVA_CLIENT_ID","client_secret","STRAVA_CLIENT_SECRET","refresh_token","STRAVA_REFRESH_TOKEN","url","expiresAt","lastFetch","Math","floor","Date","now","fetch","method","headers","body","grant_type","then","res","ok","status","statusText","json","expires_at","access_token","getToken","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","e","call","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","prototype","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","global","self","getGlobal","default","Headers","Request","Response","snakeToCamel","snakeKeyObj","Object","keys","reduce","camelKeyObj","snakeKey","split","word","slice","toUpperCase","appendParams","params","parameterizedUrl","key","segmentsQuery","variables","withGraphQL","query","segments","startLatlong","endLatlong","activityType","minCat","maxCat","bounds","activity_type","min_cat","max_cat","Authorization","segment","fetchSegments","locations","honshu","text","value","kanto","activityTypes","any","riding","running","climbingCategories","cat5","cat4","cat3","cat2","cat1","cat0","SegmentOptions","SegmentOptionsForm","locationKey","activityTypeKey","minCatKey","maxCatKey","setState","loading","htmlFor","disabled","onChange","target","locationKeys","activityTypeKeys","climbingCategoryKeys","SegmentTableBody","href","distance","avgGrade","elevDifference","climbCategoryDesc","SegmentTable","role","SegmentMessage","noSegments","errorMessage","defaultProps","Home","initSegments","context","ApplicationContext","useState","setSegments","setLoading","setErrorMessage","formLocationKey","setFormLocationKey","formActivityTypeKey","setFormActivityTypeKey","formMinCatKey","setFormMinCatKey","formMaxCatKey","setFormMaxCatKey","initialRender","useRef","current","fetchedSegments","undefined","chunks","component","action"],"mappings":"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","file":"home.899e406d.chunk.js","sourcesContent":["\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    for (var i = 0; i < modules.length; i++) {\n      var item = [].concat(modules[i]);\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */\n\n'use strict';\n\nvar inserted = {};\n\nfunction b64EncodeUnicode(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode(\"0x\" + p1);\n  }));\n}\n\nfunction removeCss(ids) {\n  ids.forEach(function (id) {\n    if (--inserted[id] <= 0) {\n      var elem = document.getElementById(id);\n\n      if (elem) {\n        elem.parentNode.removeChild(elem);\n      }\n    }\n  });\n}\n\nfunction insertCss(styles, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$replace = _ref.replace,\n      replace = _ref$replace === void 0 ? false : _ref$replace,\n      _ref$prepend = _ref.prepend,\n      prepend = _ref$prepend === void 0 ? false : _ref$prepend,\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? 's' : _ref$prefix;\n\n  var ids = [];\n\n  for (var i = 0; i < styles.length; i++) {\n    var _styles$i = styles[i],\n        moduleId = _styles$i[0],\n        css = _styles$i[1],\n        media = _styles$i[2],\n        sourceMap = _styles$i[3];\n    var id = \"\" + prefix + moduleId + \"-\" + i;\n    ids.push(id);\n\n    if (inserted[id]) {\n      if (!replace) {\n        inserted[id]++;\n        continue;\n      }\n    }\n\n    inserted[id] = 1;\n    var elem = document.getElementById(id);\n    var create = false;\n\n    if (!elem) {\n      create = true;\n      elem = document.createElement('style');\n      elem.setAttribute('type', 'text/css');\n      elem.id = id;\n\n      if (media) {\n        elem.setAttribute('media', media);\n      }\n    }\n\n    var cssText = css;\n\n    if (sourceMap && typeof btoa === 'function') {\n      cssText += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + b64EncodeUnicode(JSON.stringify(sourceMap)) + \"*/\";\n      cssText += \"\\n/*# sourceURL=\" + sourceMap.file + \"?\" + id + \"*/\";\n    }\n\n    if ('textContent' in elem) {\n      elem.textContent = cssText;\n    } else {\n      elem.styleSheet.cssText = cssText;\n    }\n\n    if (create) {\n      if (prepend) {\n        document.head.insertBefore(elem, document.head.childNodes[0]);\n      } else {\n        document.head.appendChild(elem);\n      }\n    }\n  }\n\n  return removeCss.bind(null, ids);\n}\n\nmodule.exports = insertCss;\n//# sourceMappingURL=insertCss.js.map\n","/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */\n\n'use strict';\n\nvar react = require('react');\nvar StyleContext = require('./StyleContext.js');\n\nvar isBrowser = function () {\n  return this && typeof this.window === 'object';\n}();\n\nfunction useStyles() {\n  for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n    styles[_key] = arguments[_key];\n  }\n\n  var _useContext = react.useContext(StyleContext),\n      insertCss = _useContext.insertCss;\n\n  if (!insertCss) throw new Error('Please provide \"insertCss\" function by StyleContext.Provider');\n\n  var runEffect = function runEffect() {\n    var removeCss = insertCss.apply(void 0, styles);\n    return function () {\n      setTimeout(removeCss, 0);\n    };\n  };\n\n  if (isBrowser) {\n    react.useEffect(runEffect, []);\n  } else {\n    runEffect();\n  }\n}\n\nmodule.exports = useStyles;\n//# sourceMappingURL=useStyles.js.map\n","/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport useStyles from 'isomorphic-style-loader/useStyles';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// external-global styles must be imported in your JS.\nimport normalizeCss from 'normalize.css';\nimport s from './Layout.css';\n\nexport default function Layout({ children }) {\n  useStyles(s, normalizeCss);\n  return <div className=\"container\">{children}</div>;\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","\n    var refs = 0;\n    var css = require(\"!!../css-loader/dist/cjs.js??ref--5-rules-1!../postcss-loader/src/index.js??ref--5-rules-3!./normalize.css\");\n    var insertCss = require(\"!../isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../css-loader/dist/cjs.js??ref--5-rules-1!../postcss-loader/src/index.js??ref--5-rules-3!./normalize.css\", function() {\n        css = require(\"!!../css-loader/dist/cjs.js??ref--5-rules-1!../postcss-loader/src/index.js??ref--5-rules-3!./normalize.css\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{-webkit-box-sizing:content-box;box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:rgba(0,0,0,0)}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\n    var refs = 0;\n    var css = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-rules-2!../../../node_modules/postcss-loader/src/index.js??ref--5-rules-3!./Layout.css\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-rules-2!../../../node_modules/postcss-loader/src/index.js??ref--5-rules-3!./Layout.css\", function() {\n        css = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-rules-2!../../../node_modules/postcss-loader/src/index.js??ref--5-rules-3!./Layout.css\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":root{--font-family-base:\\\"Segoe UI\\\",\\\"HelveticaNeue-Light\\\",sans-serif;--max-content-width:1000px;--screen-xs-min:480px;--screen-sm-min:768px;--screen-md-min:992px;--screen-lg-min:1200px}html{color:#222;font-weight:100;font-size:1em;font-family:Segoe UI,HelveticaNeue-Light,sans-serif;font-family:var(--font-family-base);line-height:1.375}body{margin:0}a{color:#0074c2}::-moz-selection{background:#b3d4fc;text-shadow:none}::selection{background:#b3d4fc;text-shadow:none}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}audio,canvas,iframe,img,svg,video{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}.browserupgrade{margin:.2em 0;background:#ccc;color:#000;padding:.2em 0}@media print{*,:after,:before{background:rgba(0,0,0,0)!important;color:#000!important;-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:\\\" (\\\" attr(href) \\\")\\\"}abbr[title]:after{content:\\\" (\\\" attr(title) \\\")\\\"}a[href^=\\\"#\\\"]:after,a[href^=\\\"javascript:\\\"]:after{content:\\\"\\\"}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import fetch from 'node-fetch';\n\nconst stravaConfig = {\n  client_id: process.env.STRAVA_CLIENT_ID || '41795',\n  client_secret:\n    process.env.STRAVA_CLIENT_SECRET ||\n    '2d6aef45b789e57ef9aec970e43ce46f62dcb63f',\n  refresh_token:\n    process.env.STRAVA_REFRESH_TOKEN ||\n    'eb02f30a2bf70b8e640e060d320a32d30254edef',\n};\n\nconst url = 'https://www.strava.com/oauth/token';\n\nlet accessToken;\nlet expiresAt = 0;\nlet lastFetch = null;\n\nasync function getToken() {\n  if (lastFetch !== null) {\n    return lastFetch;\n  }\n\n  if (Math.floor(Date.now() / 1000) > expiresAt) {\n    lastFetch = fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ ...stravaConfig, grant_type: 'refresh_token' }),\n    })\n      .then(res => {\n        if (!res.ok) {\n          throw new Error(`${res.status}: ${res.statusText}`);\n        }\n        return res.json();\n      })\n      .then(data => {\n        expiresAt = data.expires_at;\n        accessToken = data.access_token;\n        return accessToken;\n      })\n      .finally(() => {\n        lastFetch = null;\n      });\n    return lastFetch;\n  }\n\n  return accessToken;\n}\n\nexport default getToken;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","function convertSnakeToCamel(snake) {\n  return snake\n    .split('_')\n    .map((word, i) => {\n      if (i === 0) {\n        return word;\n      }\n      return word.slice(0, 1).toUpperCase() + word.slice(1);\n    })\n    .join('');\n}\n\n/**\n * Returns a new object with all the keys from `snakeKeyObj` converted to camel\n * case.\n * @param {Object} snakeKeyObj Object with keys in snake case (like_this)\n * @return {Object} Object with keys in camel case (likeThis)\n */\nexport function snakeToCamel(snakeKeyObj) {\n  return Object.keys(snakeKeyObj).reduce((camelKeyObj, snakeKey) => {\n    const camelKey = convertSnakeToCamel(snakeKey);\n    return { ...camelKeyObj, [camelKey]: snakeKeyObj[snakeKey] };\n  }, {});\n}\n\n/**\n * Returns a new string with `params` appended to `url`.\n * @param {string} url Base URL\n * @param {Object} params Query parameter key:value pairs\n * @return {string} `url` with query parameters appended\n */\nexport function appendParams(url, params) {\n  return Object.keys(params).reduce(\n    (parameterizedUrl, key, i) =>\n      `${parameterizedUrl}${i === 0 ? '?' : '&'}${key}=${params[key]}`,\n    url,\n  );\n}\n","import getToken from '../../data/token';\nimport { appendParams, snakeToCamel } from '../../data/utils';\n\nconst segmentsQuery = `query Segments(\n  $startLatlong: [Float]!,\n  $endLatlong: [Float]!,\n  $activityType: String,\n  $minCat: Int,\n  $maxCat: Int\n) {\n  segments(\n    startLatlong: $startLatlong,\n    endLatlong: $endLatlong,\n    activityType: $activityType,\n    minCat: $minCat,\n    maxCat: $maxCat\n  ) {\n    id\n    name\n    distance\n    avgGrade\n    elevDifference\n    climbCategoryDesc\n  }\n}`;\n\nasync function fetchSegments(fetch, variables, { withGraphQL = false } = {}) {\n  if (withGraphQL) {\n    const res = await fetch('/graphql', {\n      body: JSON.stringify({\n        query: segmentsQuery,\n        variables,\n      }),\n    });\n    const { data } = await res.json();\n    if (!data || !data.segments) {\n      throw new Error('Failed to load segments.');\n    }\n    return data.segments;\n  }\n\n  const { startLatlong, endLatlong, activityType, minCat, maxCat } = variables;\n  const accessToken = await getToken();\n  const params = {\n    bounds: `${startLatlong[0]},${startLatlong[1]},${endLatlong[0]},${endLatlong[1]}`,\n  };\n  if (activityType != null) params.activity_type = activityType;\n  if (minCat >= 0 && minCat <= 5) params.min_cat = minCat;\n  if (maxCat >= 0 && maxCat <= 5) params.max_cat = maxCat;\n  const parameterizedUrl = appendParams(\n    `https://www.strava.com/api/v3/segments/explore`,\n    params,\n  );\n  const res = await fetch(parameterizedUrl, {\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n  if (!res.ok) {\n    throw new Error(`${res.status}: ${res.statusText}`);\n  }\n  const data = await res.json();\n  return data.segments.map(segment => snakeToCamel(segment));\n}\n\nexport default fetchSegments;\n","const locations = {\n  honshu: {\n    text: 'Honshu',\n    value: {\n      startLatlong: [33.4, 130.85],\n      endLatlong: [41.55, 142.08],\n    },\n  },\n  kanto: {\n    text: 'Kanto',\n    value: {\n      startLatlong: [34.8968, 138.3825],\n      endLatlong: [37.1622, 140.9011],\n    },\n  },\n};\n\nconst activityTypes = {\n  any: {\n    text: 'Any',\n    value: null,\n  },\n  riding: {\n    text: 'Riding',\n    value: 'riding',\n  },\n  running: {\n    text: 'Running',\n    value: 'running',\n  },\n};\n\nconst climbingCategories = {\n  cat5: {\n    text: 'HC',\n    value: 5,\n  },\n  cat4: {\n    text: '1',\n    value: 4,\n  },\n  cat3: {\n    text: '2',\n    value: 3,\n  },\n  cat2: {\n    text: '3',\n    value: 2,\n  },\n  cat1: {\n    text: '4',\n    value: 1,\n  },\n  cat0: {\n    text: 'NC',\n    value: 0,\n  },\n};\n\nexport default class SegmentOptions {\n  static get locationKeys() {\n    return Object.keys(locations);\n  }\n\n  static get locations() {\n    return { ...locations };\n  }\n\n  static get activityTypeKeys() {\n    return Object.keys(activityTypes);\n  }\n\n  static get activityTypes() {\n    return { ...activityTypes };\n  }\n\n  static get climbingCategoryKeys() {\n    return Object.keys(climbingCategories);\n  }\n\n  static get climbingCategories() {\n    return { ...climbingCategories };\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SegmentOptions from './SegmentOptions';\n\nexport default function SegmentOptionsForm({\n  locationKey,\n  activityTypeKey,\n  minCatKey,\n  maxCatKey,\n  setState,\n  loading,\n}) {\n  return (\n    <form className=\"d-flex flex-row flex-wrap w-100\">\n      <div className=\"form-group ml-4 mb-2\">\n        <label\n          className=\"d-flex flex-row align-items-center\"\n          htmlFor=\"locationSelect\"\n        >\n          Location\n          <select\n            disabled={loading}\n            className=\"form-control ml-2\"\n            id=\"locationSelect\"\n            value={locationKey}\n            onChange={e => setState({ locationKey: e.target.value })}\n          >\n            {SegmentOptions.locationKeys.map(key => (\n              <option key={key} value={key}>\n                {SegmentOptions.locations[key].text}\n              </option>\n            ))}\n          </select>\n        </label>\n      </div>\n      <div className=\"form-group ml-4 mb-2\">\n        <label\n          className=\"d-flex flex-row align-items-center\"\n          htmlFor=\"activityTypeSelect\"\n        >\n          Activity\n          <select\n            disabled={loading}\n            className=\"form-control ml-2\"\n            id=\"activityTypeSelect\"\n            value={activityTypeKey}\n            onChange={e => setState({ activityTypeKey: e.target.value })}\n          >\n            {SegmentOptions.activityTypeKeys.map(key => (\n              <option key={key} value={key}>\n                {SegmentOptions.activityTypes[key].text}\n              </option>\n            ))}\n          </select>\n        </label>\n      </div>\n      <div className=\"form-group d-flex flex-row align-items-center ml-4 mb-2\">\n        <label\n          className=\"d-flex flex-row align-items-center text-nowrap\"\n          htmlFor=\"minCatSelect\"\n        >\n          Climbing Category\n          <select\n            disabled={loading}\n            className=\"form-control mx-2\"\n            id=\"minCatSelect\"\n            value={minCatKey}\n            onChange={e =>\n              setState({\n                minCatKey: e.target.value,\n                maxCatKey:\n                  e.target.value > maxCatKey ? e.target.value : maxCatKey,\n              })\n            }\n          >\n            {SegmentOptions.climbingCategoryKeys.map(key => (\n              <option key={key} value={key}>\n                {SegmentOptions.climbingCategories[key].text}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label\n          className=\"d-flex flex-row align-items-center text-nowrap\"\n          htmlFor=\"maxCatSelect\"\n        >\n          ～\n          <select\n            disabled={loading}\n            className=\"form-control ml-2\"\n            id=\"maxCatSelect\"\n            value={maxCatKey}\n            onChange={e =>\n              setState({\n                maxCatKey: e.target.value,\n                minCatKey:\n                  e.target.value < minCatKey ? e.target.value : minCatKey,\n              })\n            }\n          >\n            {SegmentOptions.climbingCategoryKeys.map(key => (\n              <option key={key} value={key}>\n                {SegmentOptions.climbingCategories[key].text}\n              </option>\n            ))}\n          </select>\n        </label>\n      </div>\n    </form>\n  );\n}\n\nSegmentOptionsForm.propTypes = {\n  locationKey: PropTypes.string.isRequired,\n  activityTypeKey: PropTypes.string.isRequired,\n  minCatKey: PropTypes.string.isRequired,\n  maxCatKey: PropTypes.string.isRequired,\n  setState: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function SegmentTableBody({ segments }) {\n  return (\n    <tbody>\n      {segments.map(segment => (\n        <tr key={segment.id}>\n          <td>\n            <a href={`https://www.strava.com/segments/${segment.id}`}>\n              {segment.name}\n            </a>\n          </td>\n          <td className=\"text-right\">{segment.distance} m</td>\n          <td className=\"text-right\">{segment.avgGrade}%</td>\n          <td className=\"text-right\">{segment.elevDifference} m</td>\n          <td>{segment.climbCategoryDesc}</td>\n        </tr>\n      ))}\n    </tbody>\n  );\n}\n\nSegmentTableBody.propTypes = {\n  segments: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n      distance: PropTypes.number,\n      avgGrade: PropTypes.number,\n      elevDifference: PropTypes.number,\n      climbCategoryDesc: PropTypes.string,\n    }),\n  ).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SegmentTableBody from './SegmentTableBody';\n\nexport default function SegmentTable({ segments, loading }) {\n  return (\n    <table className=\"table table-striped\">\n      <thead className=\"thead-dark\">\n        <tr>\n          <th className=\"text-center\">Name</th>\n          <th className=\"text-center\">Distance</th>\n          <th className=\"text-center\">Avg Grade</th>\n          <th className=\"text-center\">Elev Difference</th>\n          <th className=\"text-center\">Climb Category</th>\n        </tr>\n      </thead>\n      {loading ? null : <SegmentTableBody segments={segments} />}\n    </table>\n  );\n}\n\nSegmentTable.propTypes = {\n  segments: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n      distance: PropTypes.number,\n      avgGrade: PropTypes.number,\n      elevDifference: PropTypes.number,\n      climbCategoryDesc: PropTypes.string,\n    }),\n  ).isRequired,\n  loading: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function SegmentMessage({ noSegments, loading, errorMessage }) {\n  return (\n    <div className=\"d-flex justify-content-center w-100\">\n      {noSegments ? <p>No segments found</p> : null}\n      {loading ? (\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      ) : null}\n      {errorMessage ? <p className=\"text-danger\">{errorMessage}</p> : null}\n    </div>\n  );\n}\n\nSegmentMessage.propTypes = {\n  noSegments: PropTypes.bool.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMessage: PropTypes.string,\n};\n\nSegmentMessage.defaultProps = {\n  errorMessage: null,\n};\n","import React, { useState, useEffect, useContext, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ApplicationContext from '../../components/ApplicationContext';\nimport SegmentOptionsForm from './SegmentOptionsForm';\nimport SegmentOptions from './SegmentOptions';\nimport fetchSegments from './fetchSegments';\nimport SegmentTable from './SegmentTable';\nimport SegmentMessage from './SegmentMessage';\n\nexport default function Home({ initSegments }) {\n  const { context } = useContext(ApplicationContext);\n  // Segment data state\n  const [segments, setSegments] = useState(initSegments);\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  // Segment filter options\n  const [formLocationKey, setFormLocationKey] = useState(\n    SegmentOptions.locationKeys[0],\n  );\n  const [formActivityTypeKey, setFormActivityTypeKey] = useState(\n    SegmentOptions.activityTypeKeys[0],\n  );\n  const [formMinCatKey, setFormMinCatKey] = useState(\n    SegmentOptions.climbingCategoryKeys[\n      SegmentOptions.climbingCategoryKeys.length - 1\n    ],\n  );\n  const [formMaxCatKey, setFormMaxCatKey] = useState(\n    SegmentOptions.climbingCategoryKeys[0],\n  );\n  const setFormState = ({\n    locationKey,\n    activityTypeKey,\n    minCatKey,\n    maxCatKey,\n  }) => {\n    if (locationKey !== undefined) setFormLocationKey(locationKey);\n    if (activityTypeKey !== undefined) setFormActivityTypeKey(activityTypeKey);\n    if (minCatKey !== undefined) setFormMinCatKey(minCatKey);\n    if (maxCatKey !== undefined) setFormMaxCatKey(maxCatKey);\n  };\n\n  const initialRender = useRef(true);\n  useEffect(() => {\n    // Skips fetching on initial render\n    if (initialRender.current) {\n      initialRender.current = false;\n      return;\n    }\n\n    setLoading(true);\n    setErrorMessage(null);\n    fetchSegments(context.fetch, {\n      startLatlong:\n        SegmentOptions.locations[formLocationKey].value.startLatlong,\n      endLatlong: SegmentOptions.locations[formLocationKey].value.endLatlong,\n      activityType: SegmentOptions.activityTypes[formActivityTypeKey].value,\n      minCat: SegmentOptions.climbingCategories[formMinCatKey].value,\n      maxCat: SegmentOptions.climbingCategories[formMaxCatKey].value,\n    })\n      .then(fetchedSegments => {\n        setSegments(fetchedSegments);\n      })\n      .catch(() => {\n        setSegments([]);\n        setErrorMessage('Failed to load segments');\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [formLocationKey, formActivityTypeKey, formMinCatKey, formMaxCatKey]);\n\n  return (\n    <div>\n      <h1>Strava Segments</h1>\n      <div className=\"row\">\n        <SegmentOptionsForm\n          locationKey={formLocationKey}\n          activityTypeKey={formActivityTypeKey}\n          minCatKey={formMinCatKey}\n          maxCatKey={formMaxCatKey}\n          setState={setFormState}\n          loading={loading}\n        />\n      </div>\n      <div className=\"row\">\n        <SegmentTable segments={segments} loading={loading} />\n        <SegmentMessage\n          noSegments={segments.length === 0}\n          loading={loading}\n          errorMessage={errorMessage}\n        />\n      </div>\n    </div>\n  );\n}\n\nHome.propTypes = {\n  initSegments: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n      distance: PropTypes.number,\n      avgGrade: PropTypes.number,\n      elevDifference: PropTypes.number,\n      climbCategoryDesc: PropTypes.string,\n    }),\n  ).isRequired,\n};\n","import React from 'react';\n\nimport Layout from '../../components/Layout';\nimport fetchSegments from './fetchSegments';\nimport Home from './Home';\nimport SegmentOptions from './SegmentOptions';\n\nconst variables = {\n  startLatlong: SegmentOptions.locations.honshu.value.startLatlong,\n  endLatlong: SegmentOptions.locations.honshu.value.endLatlong,\n  activityType: SegmentOptions.activityTypes.any.value,\n  minCat: SegmentOptions.climbingCategories.cat0.value,\n  maxCat: SegmentOptions.climbingCategories.cat5.value,\n};\n\nasync function action({ fetch }) {\n  const segments = await fetchSegments(fetch, variables, { withGraphQL: true });\n  return {\n    chunks: ['home'],\n    title: 'Strava Segments',\n    component: (\n      <Layout>\n        <Home initSegments={segments} />\n      </Layout>\n    ),\n  };\n}\n\nexport default action;\n"],"sourceRoot":""}